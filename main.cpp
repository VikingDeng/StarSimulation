//
// Created by viking on 2025/3/10.
//
#include "data/dataset.h"
#include "src/observer.h"
#include "src/draw.h"
#include <iostream>

int main() {
//    Tycho2Dataset dataset;
//    dataset.ProcessDirectory("data/Tycho-2");

    observer a(0.0,0.0,10.0,10.0);
    std::vector<star> stars = a.FileterStarInView();
//    std::vector<star> stars = {
//        {2.36681, 1.24404, 7.27113},
//        {358.545, 2.30995, 11.2809},
//        {2.48357, -0.041614, 12.2985},
//        {1.23258, 0.219721, 11.6022},
//        {359.489, -1.1633, 10.4726},
//        {1.25174, -0.4017, 12.4152},
//        {359.887, 0.207705, 12.5816},
//        {0.822455, -1.00185, 10.873},
//        {359.066, -0.130668, 11.979},
//        {0.737863, -0.893871, 8.08944},
//        {357.738, 0.443775, 11.8684},
//        {358.746, 0.01374, 10.3226},
//        {359.26, -2.14469, 10.2484},
//        {2.24335, -0.256441, 10.2634},
//        {359.066, 0.3842, 12.4345},
//        {359.284, 2.34118, 11.3464},
//        {2.29572, -1.91542, 11.4583},
//        {358.647, -0.895022, 10.716},
//        {358.36, 2.41282, 12.041},
//        {358.495, 1.01009, 11.5166},
//        {0.448175, -1.78543, 11.3368},
//        {1.44068, -2.49682, 11.447},
//        {1.68018, -0.009614, 11.6792},
//        {1.41471, 2.44886, 10.7518},
//        {1.61692, 1.92317, 10.2833},
//        {0.011159, -2.12665, 12.2517},
//        {1.17872, -2.43229, 11.8417},
//        {358.787, 1.00892, 11.0298},
//        {357.694, 1.92658, 11.2528},
//        {359.601, 2.29801, 10.2901},
//        {1.29242, 2.3972, 8.69417},
//        {1.86421, 2.08422, 12.4609},
//        {358.248, 0.585457, 9.61077},
//        {358.628, 2.18929, 11.5218},
//
//  };
    stars.push_back(star{0,0,3});
    for(auto& star : stars) {
      std::cout<<star.ra<<" "<<star.dec<<" "<<star.magnitude<<std::endl;
    }
    for(const auto& star : stars) {
        std::cout<<star.ra<<" "<<star.dec<<" "<<star.magnitude<<std::endl;
    }

    StarMapDrawer::drawStarMap(stars, "output/output.png", 512, 512, 0.0, 0.0, 10.0, 10.0,12.0);
    return 0;

}
